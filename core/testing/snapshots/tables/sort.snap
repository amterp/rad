### TITLE ###
RadSort CanSortMixedTypes
### INPUT ###
col1 = [1, "a", 2, "b", true, false, { "alice": 1 }, 2, "a", [3, 1, 2], 1.5, -1.2]
col2 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
display:
	fields col1, col2
	sort
### STDOUT ###
col1            col2 
false           5     
true            4     
-1.2            11    
1               0     
1.5             10    
2               2     
2               7     
a               1     
a               8     
b               3     
[ 3, 1, 2 ]     9     
{ "alice": 1 }  6     

### TITLE ###
RadSort CanSortMixedTypesDesc
### INPUT ###
col1 = [1, "a", 2, "b", true, false, { "alice": 1 }, 2, "a", [3, 1, 2], 1.5, -1.2]
col2 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
display:
	fields col1, col2
	sort desc
### STDOUT ###
col1            col2 
{ "alice": 1 }  6     
[ 3, 1, 2 ]     9     
b               3     
a               8     
a               1     
2               7     
2               2     
1.5             10    
1               0     
-1.2            11    
true            4     
false           5     

### TITLE ###
RadSort SortingIsPriorToMapping
### INPUT ###
col = [0, 1, 2, 3, 4]
display:
	fields col
	sort asc
	col:
		map fn(num) -num
### STDOUT ###
col 
0    
-1   
-2   
-3   
-4   

### TITLE ###
RadSort DoesNotSortColumnsIfNotAskedTo
### INPUT ###
col = [3, 4, 2, 1]
display:
	fields col
print(col)
### STDOUT ###
col 
3    
4    
2    
1    
[ 3, 4, 2, 1 ]

### TITLE ###
DisplayBlock SortDoesNotMutate
### INPUT ###
ages = [30, 10, 20]
print("Before display:", ages)
display:
	fields ages
	sort ages
print("After display:", ages)
### STDOUT ###
Before display: [ 30, 10, 20 ]
ages 
10    
20    
30    
After display: [ 30, 10, 20 ]

### TITLE ###
RadSort_NoSorting
### INPUT ###
url = "https://google.com"

name = json[].name
age = json[].age
city = json[].city

rad url:
    fields name, age, city
### ARGS ###
--mock-response
.*:./responses/people.json
### STDOUT ###
name     age  city        
Charlie  30   Paris        
Bob      40   London       
Alice    30   New York     
Bob      25   Los Angeles  

### STDERR ###
Mocking response for url (matched ".*"): https://google.com

### TITLE ###
RadSort_GeneralAscNoToken
### INPUT ###
url = "https://google.com"

name = json[].name
age = json[].age
city = json[].city

rad url:
    fields name, age, city
    sort
### ARGS ###
--mock-response
.*:./responses/people.json
### STDOUT ###
name     age  city        
Alice    30   New York     
Bob      25   Los Angeles  
Bob      40   London       
Charlie  30   Paris        

### STDERR ###
Mocking response for url (matched ".*"): https://google.com

### TITLE ###
RadSort_GeneralAscWithToken
### INPUT ###
url = "https://google.com"

name = json[].name
age = json[].age
city = json[].city

rad url:
    fields name, age, city
    sort asc
### ARGS ###
--mock-response
.*:./responses/people.json
### STDOUT ###
name     age  city        
Alice    30   New York     
Bob      25   Los Angeles  
Bob      40   London       
Charlie  30   Paris        

### STDERR ###
Mocking response for url (matched ".*"): https://google.com

### TITLE ###
RadSort_GeneralDesc
### INPUT ###
url = "https://google.com"

name = json[].name
age = json[].age
city = json[].city

rad url:
    fields name, age, city
    sort desc
### ARGS ###
--mock-response
.*:./responses/people.json
### STDOUT ###
name     age  city        
Charlie  30   Paris        
Bob      40   London       
Bob      25   Los Angeles  
Alice    30   New York     

### STDERR ###
Mocking response for url (matched ".*"): https://google.com

### TITLE ###
RadSort_ExplicitAsc
### INPUT ###
url = "https://google.com"

name = json[].name
age = json[].age
city = json[].city

rad url:
    fields name, age, city
    sort name asc, age asc, city asc
### ARGS ###
--mock-response
.*:./responses/people.json
### STDOUT ###
name     age  city        
Alice    30   New York     
Bob      25   Los Angeles  
Bob      40   London       
Charlie  30   Paris        

### STDERR ###
Mocking response for url (matched ".*"): https://google.com

### TITLE ###
RadSort_DescTiebreak
### INPUT ###
url = "https://google.com"

name = json[].name
age = json[].age
city = json[].city

rad url:
    fields name, age, city
    sort name asc, age desc, city
### ARGS ###
--mock-response
.*:./responses/people.json
### STDOUT ###
name     age  city        
Alice    30   New York     
Bob      40   London       
Bob      25   Los Angeles  
Charlie  30   Paris        

### STDERR ###
Mocking response for url (matched ".*"): https://google.com

### TITLE ###
RadSort_Mix
### INPUT ###
url = "https://google.com"

name = json[].name
age = json[].age
city = json[].city

rad url:
    fields name, age, city
    sort age, city desc
### ARGS ###
--mock-response
.*:./responses/people.json
### STDOUT ###
name     age  city        
Bob      25   Los Angeles  
Charlie  30   Paris        
Alice    30   New York     
Bob      40   London       

### STDERR ###
Mocking response for url (matched ".*"): https://google.com

### TITLE ###
RadSort_LeavesInExtractionOrderIfNoTiebreaker
### INPUT ###
url = "https://google.com"

name = json[].name
age = json[].age
city = json[].city

rad url:
    fields name, age, city
    sort age asc
### ARGS ###
--mock-response
.*:./responses/people.json
### STDOUT ###
name     age  city        
Bob      25   Los Angeles  
Charlie  30   Paris        
Alice    30   New York     
Bob      40   London       

### STDERR ###
Mocking response for url (matched ".*"): https://google.com

### TITLE ###
RadSort_CanUseInIfElseBlocks
### INPUT ###
url = "https://google.com"

name = json[].name
age = json[].age
city = json[].city

if true:
	rad url:
		fields name, age, city
		sort age asc
else:
	rad url:
		fields name, age, city
		sort age desc
### ARGS ###
--mock-response
.*:./responses/people.json
### STDOUT ###
name     age  city        
Bob      25   Los Angeles  
Charlie  30   Paris        
Alice    30   New York     
Bob      40   London       

### STDERR ###
Mocking response for url (matched ".*"): https://google.com

