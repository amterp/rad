### TITLE ###
Function definition
### INPUT ###
fn greet(name str):
    print("hello", name)
### STDOUT ###
SourceFile [0:0-1:24]
  FnDef "greet" block=true [0:0-1:24]
    ExprStmt [1:4-1:24]
      Call [1:4-1:24]
        Identifier "print" [1:4-1:9]
        LitString "hello" [1:10-1:17]
        Identifier "name" [1:19-1:23]

### TITLE ###
Lambda one-liner
### INPUT ###
a = fn(x) x + 1
### STDOUT ###
SourceFile [0:0-0:15]
  Assign [0:0-0:15]
    Identifier "a" [0:0-0:1]
    Lambda block=false [0:4-0:15]
      OpBinary + [0:10-0:15]
        Identifier "x" [0:10-0:11]
        LitInt 1 [0:14-0:15]

### TITLE ###
Nested lambdas
### INPUT ###
a = fn() fn() 42
### STDOUT ###
SourceFile [0:0-0:16]
  Assign [0:0-0:16]
    Identifier "a" [0:0-0:1]
    Lambda block=false [0:4-0:16]
      Lambda block=false [0:9-0:16]
        LitInt 42 [0:14-0:16]

### TITLE ###
Return multiple values
### INPUT ###
fn pair():
    return 1, 2
### STDOUT ###
SourceFile [0:0-1:15]
  FnDef "pair" block=true [0:0-1:15]
    Return [1:4-1:15]
      LitInt 1 [1:11-1:12]
      LitInt 2 [1:14-1:15]

### TITLE ###
Defer and errdefer
### INPUT ###
defer:
    print("done")
errdefer:
    print("error")
### STDOUT ###
SourceFile [0:0-3:18]
  Defer defer [0:0-1:17]
    ExprStmt [1:4-1:17]
      Call [1:4-1:17]
        Identifier "print" [1:4-1:9]
        LitString "done" [1:10-1:16]
  Defer errdefer [2:0-3:18]
    ExprStmt [3:4-3:18]
      Call [3:4-3:18]
        Identifier "print" [3:4-3:9]
        LitString "error" [3:10-3:17]

